#ifndef _MEMORY_H_
#define _MEMORY_H_

//-----------------------------------------------------------------------------

//#include "message.h"

//-----------------------------------------------------------------------------

/*
//-----------------------------------------------------------------------------

class shared_memory_c {
public:

  //---------------------------------------------------------------------------
  shared_memory_c( void ) { 
    
  }

  //---------------------------------------------------------------------------
  virtual ~shared_memory_c( void ) {
    
  }

  //---------------------------------------------------------------------------
  virtual bool open( void );
  //---------------------------------------------------------------------------
  virtual void close( void );
  //---------------------------------------------------------------------------
  virtual bool read( message_c& message );
  //---------------------------------------------------------------------------
  virtual bool write( const message_c& message );
  //---------------------------------------------------------------------------
};
*/
//-----------------------------------------------------------------------------

template< class T>
class buffer_c {
protected:

  boost::shared_ptr<T> buffer;

public:
  //---------------------------------------------------------------------------
  buffer_c( void ) : buffer( new T ) { }

  //---------------------------------------------------------------------------
  virtual ~buffer_c( void ) {
    
  }

  //---------------------------------------------------------------------------
  virtual bool open( void );
  //---------------------------------------------------------------------------
  virtual void close( void );
  //---------------------------------------------------------------------------
  virtual bool read( const T& from );
  //---------------------------------------------------------------------------
  virtual bool write( T& to );
  //---------------------------------------------------------------------------
};

//-----------------------------------------------------------------------------

#endif // _MEMORY_H_
